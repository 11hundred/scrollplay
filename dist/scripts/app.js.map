{"version":3,"sources":["main.js"],"names":["setTimeline","data","lastFMArtistSearch","user","username","$","html","title","css","Math","round","duration","magnitude","remove","get","host","id","consumerKey","sort","a","b","parseFloat","timestamp","lastHeight","lastCommentTop","i","length","thisTop","userAvatar","avatar_url","replace","append","body","last","outerHeight","updateProgress","givenposition","newposition","track","position","percentComplete","durationEstimate","window","height","container","animate","scrollTop","setPosition","setArtwork","artwork_url","tempArtwork","loadTrack","trackID","isHistory","destruct","SC","initialize","client_id","toggleClass","addClass","playingElements","removeClass","whenStreamingReady","stream","autoPlay","history","pushState","permalink","document","play","whileplaying","onfinish","fail","trigger","loadTrackFromURL","url","regexTrack","RegExp","exec","ajax","dataType","lastFMAPIKey","done","results","artistmatches","artist","getArtistEvents","name","lastFMArtistName","encodeURI","events","event","tempItems","tempDate","Date","startDate","getDate","monthNames","getMonth","venue","location","city","country","empty","find","ready","hash","click","togglePause","this","e","pageX","width","focus","bind","searchQuery","val","q","tracks","searchResultsHTML","streamable","promise","fn","drags","opt","extend","handle","cursor","$el","on","$drag","parent","z_idx","drg_h","drg_w","outerWidth","pos_y","offset","top","pageY","pos_x","left","parents","finalX","finalY","windowWidth","preventDefault","hasClass","originalEvent","detail","wheelDelta"],"mappings":"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","file":"app.js","sourcesContent":["var consumerKey = '9994e3c432c77379bee441c98b1a4082';\nvar lastFMAPIKey = '70eb62503565b422507f84fbf689cb18';\nvar host = 'https://api.soundcloud.com';\nvar magnitude = 0.10;\nvar container = $('.wrapper');\nvar track, SC;\nvar playingElements = $('.progress-bar, .controls, .comments-progress');\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Augt', 'Sep', 'Oct', 'Nov', 'Dec'];\n\nfunction setTimeline(data) {\n  lastFMArtistSearch(data.user.username);\n  $('.track-title').html(data.user.username + ' &mdash; \"' + data.title + '\"');\n  $('.comments-list').css('height', Math.round(data.duration * magnitude));\n  $('.comments-list .comment').remove();\n  $.get(host + '/tracks/' + data.id + '/comments?consumer_key=' + consumerKey, function(data) {\n    data.sort(function(a,b) { return parseFloat(a.timestamp) - parseFloat(b.timestamp); } );\n    var lastCommentTop = 0;\n    var lastHeight;\n    for (var i = 0; i < data.length; i++) {\n      var thisTop = Math.round(data[i].timestamp * magnitude);\n      if (thisTop < lastCommentTop + lastHeight) {\n        thisTop = lastCommentTop + lastHeight;\n      }\n      var userAvatar = data[i].user.avatar_url;\n      userAvatar = userAvatar.replace('-large.jpg', '-badge.jpg');\n      $('.comments-list').append('<div id=\"comment-' + data[i].id + '\" class=\"comment\" style=\"top: ' + thisTop + 'px;\"><img class=\"avatar\" src=\"' + userAvatar + '\"><span class=\"comment-text\">' + data[i].user.username + ': ' + data[i].body + '</span></div>');\n      lastHeight = $('.comments-list .comment').last().outerHeight();\n      lastCommentTop = thisTop;\n    }\n  });\n}\n\nfunction updateProgress(givenposition) {\n  var newposition;\n  if (givenposition >= 0) {\n    newposition = givenposition;\n  } else {\n    newposition = track.position;\n  }\n\n  var percentComplete = newposition / track.durationEstimate;\n\n  $('.bar-progress').css('width', percentComplete * 100 + '%');\n  $('.comments-progress').css('top', Math.round(percentComplete * $(window).height()) + 'px');\n\n  container.animate({\n    scrollTop: percentComplete * $('.comments-list').outerHeight()\n  }, 0);\n}\n\nfunction setPosition(newposition) {\n  track.setPosition(newposition);\n  updateProgress(newposition);\n}\n\nfunction setArtwork(data) {\n  if (data.artwork_url) {\n    var tempArtwork = data.artwork_url;\n    tempArtwork = tempArtwork.replace('-large.jpg', '-t500x500.jpg');\n    $('.image-bg-wrap').css('background-image', 'url(' + tempArtwork + ')');\n  }\n}\n\nfunction loadTrack(trackID, isHistory) {\n\n  if (track) {\n    track.destruct();\n  }\n\n  SC.initialize({\n    client_id: consumerKey\n  });\n\n  $('.search-wrap').toggleClass('hide');\n  $('.status-control').addClass('playing');\n\n  $('.track-title, .comments-list').html();\n  playingElements.removeClass('hide');\n\n  SC.whenStreamingReady(function() {\n    track = SC.stream('/tracks/' + trackID, {\n      autoPlay: false\n    }, function(track) {\n      $.get(host + '/tracks/' + trackID + '?consumer_key=' + consumerKey, function(data) {\n        $('body').addClass('trackloaded');\n        if (!isHistory) {\n          history.pushState('', 'New ID: ' + data.id, '/#/' + data.id + '/' + data.permalink);\n        }\n        document.title = data.title + ' | ScrollPlay';\n        setArtwork(data);\n        setTimeline(data);\n        track.play({\n          whileplaying: function() {\n            updateProgress();\n          },\n          onfinish: function() {\n            $('.status-control').toggleClass('playing');\n          }\n        });\n        $('.header-top-row').removeClass('collapsed');\n      }).fail(function() {\n        playingElements.addClass('hide');\n        $('.search-toggle').trigger('click');\n        $('.search-results').addClass('filled').html('Track not found. Search again.');\n      });\n    });\n  });\n}\n\nfunction loadTrackFromURL(url, isHistory) {\n  var regexTrack = new RegExp('(#)\\/([0-9]+)');\n  if (regexTrack.exec(url)) {\n    loadTrack(regexTrack.exec(url)[2], isHistory);\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction lastFMArtistSearch(username) {\n  $.ajax({\n    dataType: 'json',\n    url: 'http://ws.audioscrobbler.com/2.0/?method=artist.search&api_key=' + lastFMAPIKey + '&format=json&limit=1&artist=' + username\n  }).done(function(data) {\n    if (data.results.artistmatches.artist) {\n      getArtistEvents(data.results.artistmatches.artist.name);\n    }\n  });\n}\n\nfunction getArtistEvents(lastFMArtistName) {\n  $.ajax({\n    dataType: 'json',\n    url: 'http://ws.audioscrobbler.com/2.0/?method=artist.getevents&api_key=' + lastFMAPIKey + '&format=json&limit=3&autocorrect=1&artist=' + encodeURI(lastFMArtistName)\n  }).done(function(data) {\n    if (data.events.event && data.events.event.length > 0) {\n      $('.events-list').addClass('show');\n      var tempItems = '';\n      for (var i = 0; i < data.events.event.length; i++) {\n        var tempDate = new Date(data.events.event[i].startDate);\n        tempItems += '<li>';\n          tempItems += '<a class=\"event-link\" href=\"' + data.events.event[i].url + '\">';\n          tempItems += '<div class=\"cal-icon-wrap\">';\n            tempItems += '<span class=\"fa-stack\"><span class=\"fa-stack-1x date-text\">' + tempDate.getDate() + '</span><i class=\"fa fa-calendar-o fa-stack-2x\"></i></span>';\n            tempItems += '<div class=\"month-title\">' + monthNames[tempDate.getMonth()] + '</div>';\n          tempItems += '</div>';\n          tempItems += '<div class=\"event-location\">';\n            if (data.events.event[i].title != lastFMArtistName) {\n              tempItems += data.events.event[i].title + ' - ';\n            }\n            tempItems += data.events.event[i].venue.location.city + ', ' + data.events.event[i].venue.location.country;\n          tempItems += '</div>';\n          tempItems += '</a>';\n        tempItems += '</li>';\n      }\n      $('.events-list ul').empty().append(tempItems);\n    } else {\n      $('.events-list').removeClass('show').find('ul').empty();\n    }\n  });\n}\n\n$(document).ready(function() {\n\n  if (window.location.hash) {\n    loadTrackFromURL(window.location.hash);\n  }\n\n  $('.status-control').click(function() {\n    if (track.position >= track.duration) {\n      loadTrack();\n    } else {\n      track.togglePause();\n    }\n    $(this).toggleClass('playing');\n  });\n\n  $('.comments-toggle').click(function() {\n    $('body').toggleClass('comments-shown');\n  });\n\n  $('.progress-bar').click(function(e) {\n    setPosition((e.pageX / $(window).width()) * track.durationEstimate);\n  });\n\n  $('.search-toggle').click(function() {\n    $('.search-wrap').toggleClass('hide');\n    $('#search-input').focus();\n  });\n\n  $('#search-input').bind('propertychange change click keyup input paste', function() {\n    var searchQuery = $(this).val();\n    if (searchQuery.length === 0) {\n      $('.search-results').html('');\n      $('.search-results').removeClass('filled');\n    } else if (searchQuery.length > 2) {\n      SC.get('/tracks?consumer_key=' + consumerKey, { q: searchQuery }, function(tracks) {\n        var searchResultsHTML = '';\n        if (tracks.length <= 1) {\n          searchResultsHTML = 'No tracks found.';\n        } else {\n          for (var i = 0; i < 5; i++) {\n            if (tracks[i].streamable === true) {\n              searchResultsHTML += '<div class=\"search-track\" data-trackid=\"' + tracks[i].id + '\">';\n              if (tracks[i].artwork_url) {\n                searchResultsHTML += '<img src=\"' + tracks[i].artwork_url + '\">';\n              }\n              searchResultsHTML += '<div class=\"meta\"><div class=\"meta-title\">' + tracks[i].title + '</div><div class=\"meta-artist\">by ' + tracks[i].user.username + '</div></div></div>';\n            }\n            if (i == tracks.length - 1) {\n              break;\n            }\n          }\n        }\n        $('.search-results').addClass('filled');\n        $('.search-results').html(searchResultsHTML).promise().done(function() {\n          $('.search-track').click(function() {\n            loadTrack($(this).data('trackid'));\n          });\n        });\n      });\n    }\n  });\n\n  $.fn.drags = function(opt) {\n  \topt = $.extend({\n  \t\thandle: '',\n  \t\tcursor: 'move'\n  \t}, opt);\n\n    var $el;\n\n  \tif (opt.handle === '') {\n      $el = this;\n  \t} else {\n      $el = this.find(opt.handle);\n  \t}\n\n  \treturn $el.css('cursor', opt.cursor).on('mousedown', function(e) {\n      var $drag;\n      $(this).addClass('hasDragged');\n  \t\tif (opt.handle === '') {\n        $drag = $(this).addClass('draggable');\n  \t\t} else {\n        $drag = $(this).addClass('active-handle').parent().addClass('draggable');\n  \t\t}\n  \t\tvar z_idx = $drag.css('z-index'),\n  \t\t\tdrg_h = $drag.outerHeight(),\n  \t\t\tdrg_w = $drag.outerWidth(),\n  \t\t\tpos_y = $drag.offset().top + drg_h - e.pageY,\n  \t\t\tpos_x = $drag.offset().left + drg_w - e.pageX;\n  \t\t$drag.css('z-index', 1000).parents().on('mousemove', function(e) {\n        var finalX;\n        var finalY;\n        var windowWidth = $(window).width();\n        var windowHeight = $(window).height();\n        if (e.pageX + pos_x > windowWidth) {\n          finalX = windowWidth - drg_w;\n        } else if ($drag.position().left < 0) {\n          finalX = 0;\n        } else {\n          finalX = e.pageX + pos_x - drg_w;\n        }\n        if ($drag.position().top < 0) {\n          finalY = 0;\n        } else {\n          finalY = e.pageY + pos_y - drg_h;\n        }\n  \t\t\t$('.draggable').offset({\n  \t\t\t\ttop: finalY,\n  \t\t\t\tleft: finalX\n  \t\t\t}).on('mouseup', function() {\n  \t\t\t\t$(this).removeClass('draggable').css('z-index', z_idx);\n  \t\t\t});\n  \t\t});\n  \t\te.preventDefault();\n  \t}).on('mouseup', function() {\n  \t\tif (opt.handle === '') {\n  \t\t\t$(this).removeClass('draggable');\n  \t\t} else {\n  \t\t\t$(this).removeClass('active-handle').parent().removeClass('draggable');\n  \t\t}\n  \t});\n\n  };\n\n  $('header').drags();\n\n});\n\n$(window).on('popstate', function(e) {\n  loadTrackFromURL(window.location.hash, true);\n  $('.search-wrap').addClass('hide');\n});\n\n$('body').on('DOMMouseScroll mousewheel', function(e) {\n  if ($('body').hasClass('trackloaded')) {\n    if (e.originalEvent.detail > 0 || e.originalEvent.wheelDelta < 0) {\n      setPosition(track.position + 100);\n    } else {\n      setPosition(track.position - 100);\n    }\n  }\n  return false;\n});\n"],"sourceRoot":"/source/"}